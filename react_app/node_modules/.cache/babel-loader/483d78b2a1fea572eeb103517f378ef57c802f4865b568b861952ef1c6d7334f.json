{"ast":null,"code":"import React,{useState}from\"react\";import axios from\"axios\";import{Link}from\"react-router-dom\";import\"../styles.css\";import pic from\"../images/wp2.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export const Login=()=>{const[username,setUsername]=useState(\"\");const[password,setPassword]=useState(\"\");const[error,setError]=useState(\"\");const submit=async e=>{e.preventDefault();console.log(\"Form submitted\");if(!username||!password){setError(\"Please fill out all fields\");return;}try{const user={username:username,password:password};const{data}=await axios.post(\"http://localhost:8000/token/\",user,{headers:{\"Content-Type\":\"application/json\"},withCredentials:true});localStorage.clear();localStorage.setItem(\"access_token\",data.access);localStorage.setItem(\"refresh_token\",data.refresh);axios.defaults.headers.common[\"Authorization\"]=\"Bearer \".concat(data.access);//Redirect to dashboard after login.\nwindow.location.href=\"/dashboard\";}catch(error){console.error(error);setError(\"Invalid Credentials!\");}};return/*#__PURE__*/_jsxs(\"div\",{style:{position:\"relative\",height:\"100vh\",width:\"100vw\",overflow:\"hidden\"},children:[/*#__PURE__*/_jsx(\"div\",{style:{content:\"\",position:\"absolute\",top:0,left:0,width:\"100%\",height:\"100%\",opacity:\"24%\",backgroundImage:\"url(\".concat(pic,\")\"),backgroundPosition:\"center\",backgroundSize:\"cover\",backgroundRepeat:\"no-repeat\",zIndex:-1}}),/*#__PURE__*/_jsx(\"h1\",{style:{color:\"#004cff\",fontSize:\"150px\",position:\"absolute\",right:\"124px\",margin:0,padding:0},children:\"\\uC778\\uBC45\"}),/*#__PURE__*/_jsx(\"h2\",{style:{color:\"#004cff\",position:\"absolute\",fontSize:\"50px\",top:\"110px\",right:\"24px\",transform:\"rotate(-24deg)\"},children:\"In-Bang\"}),/*#__PURE__*/_jsxs(\"div\",{style:{margin:\"auto\",top:\"150px\",position:\"relative\",width:\"300px\",border:\"2px solid rgba(18, 0, 184, 1)\",backgroundColor:\"rgba(18, 0, 184, 1)\",borderRadius:\"24px\",color:\"#ffffff\",padding:\"20px\"},children:[/*#__PURE__*/_jsx(Link,{to:\"/\",style:{position:\"absolute\",right:\"10px\",top:\"10px\",textDecoration:\"none\"},children:/*#__PURE__*/_jsx(\"button\",{style:{cursor:\"pointer\",border:\"2px solid rgba(252, 32, 3, 1)\",backgroundColor:\"rgba(252, 32, 3, 1)\",borderRadius:\"24px\",color:\"#ffffff\",color:\"#000000\",padding:\"5px\"},children:\"X\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#000000\",display:\"flex\",justifyContent:\"center\",fontSize:\"24px\",fontWeight:\"bold\",alignItems:\"center\",marginBottom:\"10px\"},children:\"Welcome!\"}),error&&/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\",textAlign:\"center\",marginBottom:\"10px\"},children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:submit,children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",color:\"#000000\",flexDirection:\"column\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Username:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:username,required:true,onChange:e=>setUsername(e.target.value)})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",color:\"#000000\",flexDirection:\"column\",marginBottom:\"10px\"},children:[/*#__PURE__*/_jsx(\"label\",{children:\"Password:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",value:password,required:true,onChange:e=>setPassword(e.target.value)})]}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",style:{cursor:\"pointer\",border:\"2px solid rgba(0, 0, 0, 1)\",backgroundColor:\"rgba(0, 0, 0, 1)\",borderRadius:\"5px\",color:\"#ffffff\",padding:\"10px\",fontSize:\"18px\"},children:\"Login\"})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"#000000\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\",whiteSpace:\"nowrap\"},children:\"Don't have an account? Click below.\"}),/*#__PURE__*/_jsx(Link,{to:\"/registration\",style:{color:\"#ffffff\",display:\"flex\",justifyContent:\"center\",alignItems:\"center\"},children:\"Register\"})]})]});};export default Login;","map":{"version":3,"names":["React","useState","axios","Link","pic","jsx","_jsx","jsxs","_jsxs","Login","username","setUsername","password","setPassword","error","setError","submit","e","preventDefault","console","log","user","data","post","headers","withCredentials","localStorage","clear","setItem","access","refresh","defaults","common","concat","window","location","href","style","position","height","width","overflow","children","content","top","left","opacity","backgroundImage","backgroundPosition","backgroundSize","backgroundRepeat","zIndex","color","fontSize","right","margin","padding","transform","border","backgroundColor","borderRadius","to","textDecoration","cursor","display","justifyContent","fontWeight","alignItems","marginBottom","textAlign","onSubmit","flexDirection","type","value","required","onChange","target","whiteSpace"],"sources":["C:/Users/HP/Desktop/VS Code/In-Bang Website Project/django_project/react_app/src/webpages/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { Link } from \"react-router-dom\";\r\nimport \"../styles.css\";\r\nimport pic from \"../images/wp2.jpg\";\r\n\r\nexport const Login = () => {\r\n  const [username, setUsername] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [error, setError] = useState(\"\");\r\n\r\n  const submit = async (e) => {\r\n    e.preventDefault();\r\n    console.log(\"Form submitted\");\r\n\r\n    if (!username || !password) {\r\n      setError(\"Please fill out all fields\");\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const user = {\r\n        username: username,\r\n        password: password,\r\n      };\r\n\r\n      const { data } = await axios.post(\"http://localhost:8000/token/\", user, {\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n        },\r\n        withCredentials: true,\r\n      });\r\n\r\n      localStorage.clear();\r\n      localStorage.setItem(\"access_token\", data.access);\r\n      localStorage.setItem(\"refresh_token\", data.refresh);\r\n      axios.defaults.headers.common[\"Authorization\"] = `Bearer ${data.access}`;\r\n\r\n      //Redirect to dashboard after login.\r\n      window.location.href = \"/dashboard\";\r\n    } catch (error) {\r\n      console.error(error);\r\n      setError(\"Invalid Credentials!\");\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        position: \"relative\",\r\n        height: \"100vh\",\r\n        width: \"100vw\",\r\n        overflow: \"hidden\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          content: \"\",\r\n          position: \"absolute\",\r\n          top: 0,\r\n          left: 0,\r\n          width: \"100%\",\r\n          height: \"100%\",\r\n          opacity: \"24%\",\r\n          backgroundImage: `url(${pic})`,\r\n          backgroundPosition: \"center\",\r\n          backgroundSize: \"cover\",\r\n          backgroundRepeat: \"no-repeat\",\r\n          zIndex: -1,\r\n        }}\r\n      />\r\n\r\n      <h1\r\n        style={{\r\n          color: \"#004cff\",\r\n          fontSize: \"150px\",\r\n          position: \"absolute\",\r\n          right: \"124px\",\r\n          margin: 0,\r\n          padding: 0,\r\n        }}\r\n      >\r\n        인뱅\r\n      </h1>\r\n      <h2\r\n        style={{\r\n          color: \"#004cff\",\r\n          position: \"absolute\",\r\n          fontSize: \"50px\",\r\n          top: \"110px\",\r\n          right: \"24px\",\r\n          transform: \"rotate(-24deg)\",\r\n        }}\r\n      >\r\n        In-Bang\r\n      </h2>\r\n\r\n      <div\r\n        style={{\r\n          margin: \"auto\",\r\n          top: \"150px\",\r\n          position: \"relative\",\r\n          width: \"300px\",\r\n          border: \"2px solid rgba(18, 0, 184, 1)\",\r\n          backgroundColor: \"rgba(18, 0, 184, 1)\",\r\n          borderRadius: \"24px\",\r\n          color: \"#ffffff\",\r\n          padding: \"20px\",\r\n        }}\r\n      >\r\n        <Link\r\n          to=\"/\"\r\n          style={{\r\n            position: \"absolute\",\r\n            right: \"10px\",\r\n            top: \"10px\",\r\n            textDecoration: \"none\",\r\n          }}\r\n        >\r\n          <button\r\n            style={{\r\n              cursor: \"pointer\",\r\n              border: \"2px solid rgba(252, 32, 3, 1)\",\r\n              backgroundColor: \"rgba(252, 32, 3, 1)\",\r\n              borderRadius: \"24px\",\r\n              color: \"#ffffff\",\r\n              color: \"#000000\",\r\n              padding: \"5px\",\r\n            }}\r\n          >\r\n            X\r\n          </button>\r\n        </Link>\r\n        <p\r\n          style={{\r\n            color: \"#000000\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            fontSize: \"24px\",\r\n            fontWeight: \"bold\",\r\n            alignItems: \"center\",\r\n            marginBottom: \"10px\",\r\n          }}\r\n        >\r\n          Welcome!\r\n        </p>\r\n        {error && (\r\n          <p\r\n            style={{\r\n              color: \"red\",\r\n              textAlign: \"center\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            {error}\r\n          </p>\r\n        )}\r\n        <form onSubmit={submit}>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              color: \"#000000\",\r\n              flexDirection: \"column\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            <label>Username:</label>\r\n            <input\r\n              type=\"text\"\r\n              value={username}\r\n              required\r\n              onChange={(e) => setUsername(e.target.value)}\r\n            />\r\n          </div>\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              color: \"#000000\",\r\n              flexDirection: \"column\",\r\n              marginBottom: \"10px\",\r\n            }}\r\n          >\r\n            <label>Password:</label>\r\n            <input\r\n              type=\"password\"\r\n              value={password}\r\n              required\r\n              onChange={(e) => setPassword(e.target.value)}\r\n            />\r\n          </div>\r\n          <br />\r\n          <div\r\n            style={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <button\r\n              type=\"submit\"\r\n              style={{\r\n                cursor: \"pointer\",\r\n                border: \"2px solid rgba(0, 0, 0, 1)\",\r\n                backgroundColor: \"rgba(0, 0, 0, 1)\",\r\n                borderRadius: \"5px\",\r\n                color: \"#ffffff\",\r\n                padding: \"10px\",\r\n                fontSize: \"18px\",\r\n              }}\r\n            >\r\n              Login\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <p\r\n          style={{\r\n            color: \"#000000\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n            whiteSpace: \"nowrap\",\r\n          }}\r\n        >\r\n          Don't have an account? Click below.\r\n        </p>\r\n        <Link\r\n          to=\"/registration\"\r\n          style={{\r\n            color: \"#ffffff\",\r\n            display: \"flex\",\r\n            justifyContent: \"center\",\r\n            alignItems: \"center\",\r\n          }}\r\n        >\r\n          Register\r\n        </Link>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}